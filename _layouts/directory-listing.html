<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page.title }}</title>
    <link rel="shortcut icon" type="image/x-icon" href="{{ page.favicon_path | default: 'favicon.ico' }}" />
    <meta name="theme-color" content="#f77423" />
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
          "Helvetica Neue", sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 650px;
        margin: 0 auto;
        padding: 2rem;
        background-color: #f9f9f9;
      }
      .container {
        background-color: white;
        border-radius: 8px;
        padding: 2rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2d3748;
        margin-top: 0;
        font-weight: 700;
      }
      p {
        margin-bottom: 1.5rem;
      }
      .file-list-container {
        background-color: #f7fafc;
        border-left: 4px solid #4299e1;
        padding: 1rem;
        border-radius: 4px;
        margin: 1.5rem 0;
      }
      .file-list-container p {
        margin: 0 0 0.75rem 0;
        font-weight: 500;
      }
      ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      li {
        margin: 0.5rem 0;
      }
      a {
        color: #3182ce;
        text-decoration: none;
        font-weight: 500;
      }
      a:hover {
        text-decoration: underline;
      }
      .footer {
        margin-top: 2rem;
        font-size: 0.875rem;
        color: #718096;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>{{ page.heading | default: page.title }}</h1>
      {% if page.description %}
      <p>{{ page.description }}</p>
      {% endif %}
      <div class="file-list-container">
        <p>Available files and directories:</p>
        <ul>
          {%- comment -%} Filter static files for this directory {%- endcomment -%} {%- assign directory_path =
          page.directory | default: "" -%} {%- assign exclude_files = page.exclude_files | default: "index.html" |
          split: "," -%} {%- assign show_dirs = page.show_dirs | default: false -%} {%- comment -%} Collect files and
          directories in this path {%- endcomment -%} {%- assign all_items = site.static_files | where_exp: "item",
          "item.path contains directory_path" -%} {%- comment -%} Build directory list (only from files in
          subdirectories) {%- endcomment -%} {%- assign directories = "" | split: "" -%} {%- for item in all_items -%}
          {%- if directory_path == "" -%} {%- assign item_dir_path = item.path | remove_first: "/" -%} {%- else -%} {%-
          assign item_dir_path = item.path | remove_first: "/" | remove_first: directory_path | remove_first: "/" -%}
          {%- endif -%} {%- assign item_depth = item_dir_path | split: "/" | size -%} {%- if item_depth > 1 -%} {%-
          assign item_dir = item_dir_path | split: "/" | first -%} {%- unless directories contains item_dir -%} {%-
          unless exclude_files contains item_dir -%} {%- assign directories = directories | push: item_dir -%} {%-
          endunless -%} {%- endunless -%} {%- endif -%} {%- endfor -%} {%- assign directories = directories | uniq |
          sort -%} {%- comment -%} List directories first if showDirs is true {%- endcomment -%} {%- if show_dirs -%}
          {%- for dir in directories -%}
          <li><a href="{{ dir }}/">{{ dir }}/</a></li>
          {%- endfor -%} {%- endif -%} {%- comment -%} List files in the current directory only (not subdirectories) {%-
          endcomment -%} {%- assign files = all_items | where_exp: "item", "item.extname != ''" -%} {%- for file in
          files -%} {%- if directory_path == "" -%} {%- assign rel_path = file.path | remove_first: "/" -%} {%- else -%}
          {%- assign rel_path = file.path | remove_first: "/" | remove_first: directory_path | remove_first: "/" -%} {%-
          endif -%} {%- assign depth = rel_path | split: "/" | size -%} {%- if depth == 1 -%} {%- assign filename =
          file.name -%} {%- unless exclude_files contains filename -%} {%- if directory_path == "" -%} {%- assign
          file_url = "https://files.sablier.com/" | append: filename -%} {%- else -%} {%- assign file_url =
          "https://files.sablier.com/" | append: directory_path | append: "/" | append: filename -%} {%- endif -%}
          <li><a href="{{ file_url }}" target="_blank">{{ filename }}</a></li>
          {%- endunless -%} {%- endif -%} {%- endfor -%}
        </ul>
      </div>
      <div class="footer">Hosted on GitHub Pages</div>
    </div>
  </body>
</html>
